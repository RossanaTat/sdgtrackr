% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_data.R
\name{prep_data}
\alias{prep_data}
\title{Prepares data for analysis}
\usage{
prep_data(
  indicator = "EG.ELC.ACCS.ZS",
  data = wbstats::wb_data(indicator = indicator, lang = "en", country = "countries_only"),
  startyear_data = 2000,
  floor = 0,
  ceiling = 100,
  granularity = 0.1,
  code_col = "iso3c",
  year_col = "date",
  verbose = TRUE
)
}
\arguments{
\item{indicator}{Character. Indicator code or name (e.g., `"EG.ELC.ACCS.ZS"`). Defaults to access to electricity.}

\item{data}{Optional. A data frame with indicator data. If NULL, data is downloaded via `wbstats::wb_data()`.}

\item{startyear_data}{Integer. Minimum year to include. Defaults to 2000.}

\item{code_col}{Character. Name of the column with country codes. Defaults to `"iso3c"`.}

\item{year_col}{Character. Name of the column with years. Defaults to `"date"`.}

\item{verbose}{Logical. If TRUE print messages in console. Default is TRUE}
}
\value{
A `data.table` with one row per country-year spell, including initial and end years, initial value, annualized change, and a fold ID for cross-validation.
}
\description{
Prepares indicator data for panel estimation by computing annualized changes over 5â€“10 year periods, selecting the shortest available spell, balancing countries by number of rows, and assigning fold IDs for cross-validation.
}
